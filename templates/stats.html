{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h2>ğŸ“Š Ä°statistikler - {{ username }}</h2>
    
    <!-- GÃ¼nlÃ¼k Ã–zet -->
    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5>ğŸ“… BugÃ¼n</h5>
                </div>
                <div class="card-body">
                    <p><strong>Toplam Input:</strong> {{ daily.total_inputs }}</p>
                    <p><strong>DoÄŸru Cevaplar:</strong> {{ daily.correct_answers }}</p>
                    <p><strong>DoÄŸruluk:</strong> {{ "%.1f"|format(daily.accuracy_percent) }}%</p>
                    <p><strong>Oturum SayÄ±sÄ±:</strong> {{ daily.total_sessions }}</p>
                    <p><strong>Toplam Dakika:</strong> {{ daily.total_minutes }}</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h5>ğŸ“ˆ Bu Hafta</h5>
                </div>
                <div class="card-body">
                    <p><strong>Toplam Input:</strong> {{ weekly.total_inputs }}</p>
                    <p><strong>DoÄŸru Cevaplar:</strong> {{ weekly.correct_answers }}</p>
                    <p><strong>DoÄŸruluk:</strong> {{ "%.1f"|format(weekly.accuracy_percent) }}%</p>
                    <p><strong>ArdÄ±ÅŸÄ±k GÃ¼nler:</strong> {{ weekly.streak_days }} ğŸ”¥</p>
                    <p><strong>En Ä°yi GÃ¼n:</strong> {{ weekly.best_day }}</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Genel Ä°statistikler -->
    <div class="card mt-4">
        <div class="card-header bg-info text-white">
            <h5>ğŸ¯ TÃ¼m Zamanlar</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-3">
                    <h6>Toplam Input</h6>
                    <p class="display-4">{{ overall.total_inputs }}</p>
                </div>
                <div class="col-md-3">
                    <h6>DoÄŸru Cevaplar</h6>
                    <p class="display-4">{{ overall.correct_answers }}</p>
                </div>
                <div class="col-md-3">
                    <h6>Genel DoÄŸruluk</h6>
                    <p class="display-4">{{ "%.1f"|format(overall.accuracy_percent) }}%</p>
                </div>
                <div class="col-md-3">
                    <h6>Ortalama Skor</h6>
                    <p class="display-4">{{ "%.1f"|format(overall.average_score) }}</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Kelime PerformansÄ± -->
    <div class="card mt-4">
        <div class card-header bg-warning">
            <h5>ğŸ“š Kelime PerformansÄ±</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>En ZayÄ±f Kelimeler</h6>
                    <ul class="list-group">
                        {% for word in word_perf.hardest_words[:5] %}
                        <li class="list-group-item">
                            {{ word.word }} - {{ "%.1f"|format(word.accuracy) }}%
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>En Kolay Kelimeler</h6>
                    <ul class="list-group">
                        {% for word in word_perf.easiest_words[:5] %}
                        <li class="list-group-item">
                            {{ word.word }} - {{ "%.1f"|format(word.accuracy) }}%
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- HaftalÄ±k Rapor -->
    <div class="card mt-4">
        <div class="card-header bg-secondary text-white">
            <h5>ğŸ“‹ HaftalÄ±k Rapor</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4">
                    <p><strong>Toplam Input:</strong> {{ weekly_report.summary.total_inputs }}</p>
                    <p><strong>DoÄŸruluk:</strong> {{ weekly_report.summary.accuracy }}%</p>
                    <p><strong>Toplam Saat:</strong> {{ weekly_report.summary.total_hours }}</p>
                </div>
                <div class="col-md-4">
                    <p><strong>ArdÄ±ÅŸÄ±k GÃ¼nler:</strong> {{ weekly_report.summary.streak_days }} ğŸ”¥</p>
                    <p><strong>Ä°yileÅŸme:</strong> +{{ weekly_report.summary.improvement }}%</p>
                </div>
                <div class="col-md-4">
                    <h6>Bu HaftanÄ±n BaÅŸarÄ±larÄ±</h6>
                    {% for achievement in weekly_report.achievements %}
                    <p><small>{{ achievement }}</small></p>
                    {% endfor %}
                </div>
            </div>
            
            <hr>
            
            <h6>Ã–neriler</h6>
            <ul>
                {% for recommendation in weekly_report.recommendations %}
                <li>{{ recommendation }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    
    <div class="mt-3">
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">â† Geri DÃ¶n</a>
        <a href="{{ url_for('goals') }}" class="btn btn-primary">Hedeflerim â†’</a>
    </div>
</div>
{% endblock %}
